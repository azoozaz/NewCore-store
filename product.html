
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>ğŸ“¦ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬</h1>
    <nav>
      <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="products.html">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
      <a href="cart.html">Ø§Ù„Ø³Ù„Ø©</a>
    </nav>
  </header>

  <main>
    <section id="product-detail" class="product-detail"></section>
  </main>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const productId = urlParams.get('id');

    async function loadProduct() {
      const res = await fetch('http://localhost:3000/api/products');
      const products = await res.json();
      const product = products.find(p => p.id == productId);

      const container = document.getElementById('product-detail');
      if (product) {
        container.innerHTML = `
          <img src="${product.image}" alt="${product.name}" style="max-width: 300px;">
          <h2>${product.name}</h2>
          <p>Ø§Ù„Ø³Ø¹Ø±: ${product.price} Ø±ÙŠØ§Ù„</p>
          <button onclick="addToCart('${product.name}', ${product.price})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
        `;
      } else {
        container.innerHTML = "<p>Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</p>";
      }
    }

    let cart = [];
    function addToCart(name, price) {
      cart.push({ name, price });
      localStorage.setItem('cart', JSON.stringify(cart));
      alert(`${name} ØªÙ…Øª Ø¥Ø¶Ø§ÙØªÙ‡ Ù„Ù„Ø³Ù„Ø©`);
    }

    loadProduct();
  </script>
</body>
</html>
